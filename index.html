<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Manita Calendar ğŸ¥¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600&family=Poppins:wght@300;400;500&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --bg-top: #0f0f15;
      --bg-bottom: #1a1a26;
      --card-bg: #14121c;
      --card-border: rgba(255, 255, 255, 0.16);
      --accent: #f28b82;
      --accent-soft: #ffc7b7;
      --text-main: #f3f0ff;
      --text-soft: #b3aec9;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Emojili pattern */
    body::before {
      content: "";
      position: fixed;
      top: -600px;
      left: -300px;
      width: calc(100% + 600px);
      height: calc(100% + 1200px);
      z-index: -1;
      pointer-events: none;

      background-image: url("data:image/svg+xml;utf8,\
    <svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'>\
      <text x='10' y='50' font-size='38' opacity='0.40'>ğŸ¥¬</text>\
      <text x='90' y='120' font-size='34' opacity='0.40'>â¤ï¸</text>\
    </svg>");
      background-repeat: repeat;
      background-size: 160px 160px;

      opacity: 0.25;
      animation: driftSmooth 110s linear infinite;
      will-change: transform;
    }

    @keyframes driftSmooth {
      0% {
        transform: translate3d(0, 0, 0);
      }
      50% {
        transform: translate3d(-220px, -160px, 0);
      }
      100% {
        transform: translate3d(0, -320px, 0);
      }
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    html {
      min-height: 100%;
    }

    body {
      font-family: "Poppins", sans-serif;
      font-weight: 400;
      background: linear-gradient(180deg, #0f0f15 0%, #1a1a26 100%);
      background-repeat: no-repeat;
      background-size: cover;

      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      color: #f3f0ff;
      position: relative;
      overflow-x: hidden;
    }

    @supports (height: 100dvh) {
      body {
        min-height: 100dvh;
      }
    }

    .card {
      width: 100%;
      max-width: 520px;
      background: var(--card-bg);
      border-radius: 24px;
      padding: 24px 22px 20px;
      position: relative;
      overflow: hidden;
      box-shadow:
        0 0 20px rgba(255, 200, 230, 0.15),
        0 18px 50px rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .card.anniversary {
      box-shadow: 0 0 40px rgba(255, 192, 203, 0.35);
      border-color: rgba(255, 200, 230, 0.6);
    }

    .card-header {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
      z-index: 1;
    }

    .title-block {
      max-width: 70%;
    }

    .title-block h1 {
      font-family: "Dancing Script", cursive;
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: 0;
      color: #ffffff;
    }

    .title-block p {
      margin-top: 4px;
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    .day-counter {
      margin-top: 4px;
      font-size: 0.8rem;
      color: var(--accent-soft);
    }

    .day-pill {
      display: none;
    }

    .day-pill span:first-child {
      font-weight: 600;
      color: var(--accent-soft);
    }

    .music-bar {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .music-bar button {
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(0, 0, 0, 0.4);
      color: var(--text-main);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.75rem;
      cursor: pointer;
    }

    .music-bar button:hover {
      background: rgba(255, 255, 255, 0.06);
    }

    .music-bar .music-title {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .music-bar input[type="range"] {
      width: 70px;
    }

    .status {
      position: relative;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.18);
      font-size: 0.85rem;
      color: var(--text-soft);
      margin-bottom: 12px;
      z-index: 1;
    }

    .hidden {
      display: none !important;
    }

    .note {
      position: relative;
      padding: 14px 0 12px;
      min-height: 90px;
      z-index: 1;
    }

    .note-title {
      font-family: "Dancing Script", cursive;
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: #ffffff;
    }

    .note-text {
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text-main);
      white-space: pre-line;
    }

    .photos {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .photo {
      position: relative;
      width: calc(50% - 5px);
      aspect-ratio: 4 / 5;
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: #1f1c2b;
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.6);
    }

    .photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform: scale(1.02);
    }

    /* Tam gÃ¶rÃ¼nmesini istediÄŸin fotolar iÃ§in */
    .photo.photo--full {
      width: 100%;
      aspect-ratio: auto;
    }

    .photo.photo--full img {
      width: 100%;
      height: auto;
      object-fit: contain;
    }

    .hint {
      margin-top: 10px;
      font-size: 0.78rem;
      color: var(--text-soft);
      opacity: 0.95;
    }

    .footer {
      margin-top: 16px;
      font-size: 0.75rem;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      gap: 10px;
      opacity: 0.9;
      z-index: 1;
    }

    .footer span {
      white-space: nowrap;
    }

    .calendar-wrapper {
      position: fixed;
      left: calc(50% + 280px);
      top: 50%;
      transform: translateY(-50%);
      z-index: 2;
    }

    .calendar-box {
      background: rgba(20, 18, 28, 0.92);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow:
        0 0 20px rgba(255, 200, 230, 0.15),
        0 10px 40px rgba(0, 0, 0, 0.55);
      border-radius: 20px;
      padding: 14px 18px;
      color: var(--text-main);
      font-size: 0.8rem;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      gap: 10px;
    }

    .calendar-month {
      font-weight: 500;
      letter-spacing: 0.03em;
    }

    .calendar-counter {
      color: var(--accent-soft);
      white-space: nowrap;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
      font-size: 0.72rem;
      text-align: center;
    }

    .calendar-weekday {
      color: var(--text-soft);
      opacity: 0.9;
    }

    .calendar-day {
      padding: 4px 0;
      border-radius: 8px;
      background: rgba(0, 0, 0, 0.25);
      color: var(--text-main);
    }

    .calendar-day.empty {
      background: transparent;
    }

    .calendar-day.today {
      background: linear-gradient(135deg, #f28b82, #ffc7b7);
      color: #1a1a26;
      font-weight: 600;
    }

    .quiz {
      margin-bottom: 12px;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.18);
      font-size: 0.85rem;
      color: var(--text-main);
    }

    .quiz-text {
      margin-bottom: 4px;
      color: var(--text-soft);
    }

    .quiz-question {
      margin-bottom: 8px;
      font-weight: 500;
    }

    .quiz-input-row {
      display: flex;
      gap: 8px;
      margin-bottom: 6px;
    }

    .quiz-input-row input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(0, 0, 0, 0.4);
      padding: 6px 10px;
      color: var(--text-main);
      font-size: 0.8rem;
    }

    .quiz-input-row input::placeholder {
      color: var(--text-soft);
    }

    .quiz-input-row button {
      border-radius: 999px;
      border: none;
      padding: 6px 14px;
      font-size: 0.8rem;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
    }

    .quiz-input-row button:hover {
      filter: brightness(1.05);
    }

    .quiz-feedback {
      min-height: 1em;
      font-size: 0.8rem;
      color: var(--accent-soft);
    }

    .status select {
      width: 100%;
      background-color: rgba(0, 0, 0, 0.45);
      color: var(--text-main);
      border: 1px solid rgba(255, 255, 255, 0.25);
      border-radius: 10px;
      padding: 6px 10px;
      outline: none;
      appearance: none;
      margin-left: 4px;
    }

    .status select option {
      background-color: #151520;
      color: var(--text-main);
    }

    @media (max-width: 480px) {
      body {
        align-items: flex-start;
        justify-content: flex-start;
        padding: 22px 14px;
        padding-top: calc(22px + env(safe-area-inset-top));
        padding-bottom: calc(22px + env(safe-area-inset-bottom));
      }

      .card {
        border-radius: 22px;
        margin-top: 26px;
        margin-bottom: 36px;
      }

      .card-header {
        margin-bottom: 18px;
      }

      .title-block h1 {
        font-size: 1.8rem;
      }

      .title-block p {
        font-size: 0.85rem;
      }

      .note-text {
        font-size: 0.92rem;
      }

      .photos {
        flex-direction: column;
        margin-top: 14px;
      }

      .photo {
        width: 100%;
        max-width: 260px;
        margin-inline: auto;
      }

      .footer {
        margin-top: 24px;
      }

      .calendar-wrapper {
        display: none;
      }
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</head>
<body>
  <main class="card">
    <header class="card-header">
      <div class="title-block">
        <h1>Manita Calendar ğŸ¥¬</h1>
        <p>Her gÃ¼n yeni bir not mu? Ã‡ÃœÃœÃœÅÅ. ğŸ˜œ</p>
        <p class="day-counter" id="day-counter"></p>
      </div>
      <div class="day-pill" id="day-pill">
        <span>â€“</span>
        <span>â€“</span>
      </div>
    </header>

    <div class="music-bar">
      <button id="music-toggle" type="button">â–¶</button>
      <span class="music-title">YalÄ±n â€“ Sensiz Olmaz</span>
      <input id="music-volume" type="range" min="0" max="1" step="0.05" value="0.2" />
    </div>

    <div class="status hidden" id="status"></div>

    <div class="quiz" id="quiz-area" hidden>
      <p class="quiz-text">
        NotlarÄ± gÃ¶rmek Ã¶yle kolay deÄŸil, Ã¶nce soruyu doÄŸru bilcen. ğŸ˜œ
      </p>
      <p class="quiz-question" id="quiz-question"></p>
      <div class="quiz-input-row">
        <input
          type="text"
          id="quiz-answer"
          placeholder="CevabÄ±nÄ± buraya yaz..."
          autocomplete="off"
        />
        <button type="button" id="quiz-submit">GÃ¶ster</button>
      </div>
      <p class="quiz-feedback" id="quiz-feedback"></p>
    </div>

    <section class="note" id="note-section" hidden>
      <h2 class="note-title" id="note-title"></h2>
      <p class="note-text" id="note-text"></p>

      <div class="photos" id="photos"></div>

      <div class="hint">
        Sonraki notlarÄ± sadece yeni gÃ¼ne girdiÄŸimizde gÃ¶rebilceksin. YANÄ° SÃœPRÄ°Z HÄ°HÄ°HÄ°HÄ° âœ¨
      </div>
    </section>

    <footer class="footer">
      <span id="range-text"></span>
      <span>ğŸ¤</span>
    </footer>
  </main>

  <section class="calendar-wrapper">
    <div id="calendar-root"></div>
  </section>

  <audio id="bg-music" loop>
    <source src="sensiz-olmaz.mp3" type="audio/mpeg" />
  </audio>

  <audio id="confetti-sound">
    <source src="confetti.mp3" type="audio/mpeg" />
  </audio>

  <!-- GÃœN VERÄ°LERÄ° -->
  <script>
    const SEASON_YEAR = 2025;
    const RELATION_START = new Date(2025, 4, 12);

    const entries = {
      "2025-11-30": {
        title: "1-Her Åeyin Bir Ä°lki Var",
        text: "MERHABA HAYATIM. Bu takvimin ilk gÃ¼nÃ¼nde bizim de ilk gÃ¼nÃ¼mÃ¼zle baÅŸlamak tatlÄ± olur diye dÃ¼ÅŸÃ¼ndÃ¼m. BakÄ±nca, o gÃ¼nden bu yana Ã§ok ÅŸey deÄŸiÅŸmiÅŸ. Samimiyetimiz artmÄ±ÅŸ, birbirimiz hakkÄ±nda bildiklerimiz artmÄ±ÅŸ. Ama gerÃ§ekten, o gÃ¼nden beri yanÄ±na gelirken yaÅŸadÄ±ÄŸÄ±m heyecan, seni ilk gÃ¶rÃ¼nce yÃ¼zÃ¼mde kendiliÄŸinden oluÅŸan gÃ¼lÃ¼mseme hep aynÄ± kalmÄ±ÅŸ. Dilerim, heyecanÄ±mÄ±z, mutluluÄŸumuz Ã¶mÃ¼r boyunca hep ilk gÃ¼nkÃ¼ gibi saf ve temiz kalÄ±r. Dilerim Ã¶mÃ¼r boyunca sohbetimiz muhabbetimiz eksik olmaz. Her mutluluÄŸumuzda, Ã¼zÃ¼ntÃ¼mÃ¼zde, hayatlarÄ±mÄ±zda birine ihtiyaÃ§ duyduÄŸumuz her anda birbirimizin yanÄ±nda oluruz. Seni Ã§ok seviyorum bitanem. Ä°yi ki varsÄ±n",
        photos: [
          "images/1ilkgÃ¼n/1.png",
          "images/1ilkgÃ¼n/2.png"
        ],
        quiz: {
          question: "Bu gÃ¼nÃ¼n temasÄ± neydi? (ipucu: klasÃ¶r adÄ±)",
          answers: ["ilk gÃ¼n", "ilkgÃ¼n", "ilkgun"]
        }
      },

      "2025-12-01": {
        title: "GÃ¼n 2 â€“ SÃ¼rpriz",
        text: "",
        photos: [
          "images/2sÃ¼priz/1.png",
          "images/2sÃ¼priz/2.png",
          "images/2sÃ¼priz/3.png"
        ],
        quiz: {
          question: "BugÃ¼nÃ¼n kelimesi ne? (cevap: sÃ¼rpriz)",
          answers: ["sÃ¼rpriz", "supriz", "sÃ¼rpriz gÃ¼n", "supriz gun"]
        }
      },

      "2025-12-02": {
        title: "GÃ¼n 3 â€“ Bakakalmak",
        text: "",
        photos: [
          "images/3bakakalmak/1.png"
        ],
        quiz: {
          question: "Birine uzun uzun bakmaya ne deriz? (cevap: bakakalmak)",
          answers: ["bakakalmak", "bakamakalmak"]
        }
      },

      "2025-12-03": {
        title: "GÃ¼n 4 â€“ Hayal Kurmak",
        text: "",
        photos: [
          "images/4hayalkurmak/1.png",
          "images/4hayalkurmak/2-full.png"
        ],
        quiz: {
          question: "Gelecek hakkÄ±nda gÃ¼zel ÅŸeyler dÃ¼ÅŸÃ¼nmeye ne denir? (cevap: hayal kurmak)",
          answers: ["hayal kurmak", "hayalkurmak"]
        }
      },

      "2025-12-04": {
        title: "GÃ¼n 5 â€“ Hata Yapmak & Affetmek",
        text: "",
        photos: [
          "images/5hatayapmaktelafietmek/1.png",
          "images/5hatayapmaktelafietmek/2.png",
          "images/5hatayapmaktelafietmek/3.png",
          "images/5hatayapmaktelafietmek/4.png"
        ],
        quiz: {
          question: "Ä°liÅŸkide en Ã¶nemli sÃ¼per gÃ¼Ã§lerden biri nedir? (cevap: affetmek)",
          answers: ["affetmek", "af etmek"]
        }
      },

      "2025-12-05": {
        title: "GÃ¼n 6 â€“ Beraber Olmak",
        text: "",
        photos: [
          "images/6beraberolmak/1-full.png",
          "images/6beraberolmak/2.png",
          "images/6beraberolmak/3.png",
          "images/6beraberolmak/4.png"
        ],
        quiz: {
          question: "Yan yana olmayÄ± anlatan kelime? (cevap: beraber)",
          answers: ["beraber", "birlikte"]
        }
      },

      "2025-12-06": {
        title: "GÃ¼n 7 â€“ Åebeklik Yapmak",
        text: "",
        photos: [
          "images/7ÅŸebeklikyapmak/1.png",
          "images/7ÅŸebeklikyapmak/2.png",
          "images/7ÅŸebeklikyapmak/3.png"
        ],
        quiz: {
          question: "Birlikte saÃ§ma sapan gÃ¼lmeye, poz vermeye ne diyoruz? (cevap: ÅŸebeklik)",
          answers: ["ÅŸebeklik", "sebeklik"]
        }
      },

      "2025-12-07": {
        title: "GÃ¼n 8 â€“ Ä°yi GÃ¼n KÃ¶tÃ¼ GÃ¼n",
        text: "",
        photos: [
          "images/8iyigÃ¼nkÃ¶tÃ¼gÃ¼n/1.png",
          "images/8iyigÃ¼nkÃ¶tÃ¼gÃ¼n/2.png"
        ],
        quiz: {
          question: "Hangi iki kelime birlikte sÃ¶ylenir: 'iyi gÃ¼n ... gÃ¼n'? (cevap: kÃ¶tÃ¼)",
          answers: ["kÃ¶tÃ¼", "kotu", "kÃ¶tÃ¼ gÃ¼n", "kotu gun"]
        }
      },

      "2025-12-08": {
        title: "GÃ¼n 9 â€“ Ã–zel GÃ¼nler",
        text: "",
        photos: [
          "images/9Ã¶zelgÃ¼ndeÄŸilgÃ¼nleriÃ¶zelyapan/1.png",
          "images/9Ã¶zelgÃ¼ndeÄŸilgÃ¼nleriÃ¶zelyapan/2.png"
        ],
        quiz: {
          question: "Sevgililer gÃ¼nÃ¼, doÄŸum gÃ¼nÃ¼ gibi gÃ¼nlere ne deriz? (cevap: Ã¶zel gÃ¼n)",
          answers: ["Ã¶zel gÃ¼n", "ozel gun", "Ã¶zel gÃ¼nler", "ozel gunler"]
        }
      },

      "2025-12-09": {
        title: "GÃ¼n 10 â€“ Birini Ã‡ok Sevmek",
        text: "",
        photos: [
          "images/10biriniÃ§oksevmek/1.png"
        ],
        quiz: {
          question: "Bu sayfada kimi 'Ã§ok' seviyorum? (cevap: seni)",
          answers: ["seni", "sen", "manitam"]
        }
      },

      "2025-12-10": {
        title: "GÃ¼n 11 â€“ Ufak Bir Ä°tiraf",
        text: "",
        photos: [
          "images/11ufakbiritiraf/1.png"
        ],
        quiz: {
          question: "Kalpten gelen saklÄ± cÃ¼mlelere ne deriz? (cevap: itiraf)",
          answers: ["itiraf", "itiraf etmek"]
        }
      },

      "2025-12-11": {
        title: "GÃ¼n 12 â€“ TatlÄ±lÄ±k",
        text: "",
        photos: [
          "images/12tatlÄ±lÄ±k/1.png",
          "images/12tatlÄ±lÄ±k/2.png"
        ],
        quiz: {
          question: "Senin baÅŸka bir adÄ±: aÅŸÄ±rÄ± ...... (cevap: tatlÄ±)",
          answers: ["tatlÄ±", "tatli", "tatlÄ±lÄ±k", "tatlilik"]
        }
      },

      "2025-12-12": {
        title: "GÃ¼n 13 â€“ GÃ¼lmek",
        text: "",
        photos: [
          "images/13gÃ¼lmek/1.png",
          "images/13gÃ¼lmek/2.png"
        ],
        quiz: {
          question: "En sevdiÄŸim seslerden biri: senin ...... sesin. (cevap: gÃ¼lme)",
          answers: ["gÃ¼lme", "gulme", "gÃ¼lmek", "gulmek"]
      },
      isAnniversary: true
    },

      "2025-12-13": {
        title: "GÃ¼n 14 â€“ KÄ±z Ruhlar",
        text: "",
        photos: [
          "images/14ikizruhlar/1-full.png",
          "images/14ikizruhlar/2-full.png"
        ],
        quiz: {
          question: "Bizim gizli ekibimizin adÄ±: 'iki .... ruh' (cevap: kÄ±z)",
          answers: ["kÄ±z", "kiz"]
        }
      },

      "2025-12-14": {
        title: "GÃ¼n 15 â€“ Her Åeyin BaÅŸlangÄ±cÄ±",
        text: "",
        photos: [
          "images/15herÅŸeyinbaÅŸlangÄ±cÄ±/1.png",
          "images/15herÅŸeyinbaÅŸlangÄ±cÄ±/2.png"
        ],
        quiz: {
          question: "Bir hikayenin ilk kÄ±smÄ±na ne deriz? (cevap: baÅŸlangÄ±Ã§)",
          answers: ["baÅŸlangÄ±Ã§", "baslangic"]
        }
      },

      "2025-12-15": {
        title: "GÃ¼n 16 â€“ Kendime Ã–vme GÃ¼nÃ¼",
        text: "",
        photos: [
          "images/16kendimeÃ¶vmegÃ¼nÃ¼/1.png"
        ],
        quiz: {
          question: "BugÃ¼nÃ¼n konsepti: biraz kendini .... (cevap: Ã¶vmek)",
          answers: ["Ã¶vmek", "ovmek", "kendini Ã¶vmek", "kendimi Ã¶vmek"]
        }
      },

      "2025-12-16": {
        title: "GÃ¼n 17 â€“ Her Åeyin Daha Keyiflisi",
        text: "",
        photos: [
          "images/17herÅŸeyindahakeyiflisi/1-full.png",
          "images/17herÅŸeyindahakeyiflisi/2.png",
          "images/17herÅŸeyindahakeyiflisi/3.png",
          "images/17herÅŸeyindahakeyiflisi/4.png"
        ],
        quiz: {
          question: "Seninle olan her ÅŸey biraz daha .... (cevap: keyifli)",
          answers: ["keyifli", "keyiflii"]
        }
      },

      "2025-12-17": {
        title: "GÃ¼n 18 â€“ Konser",
        text: "",
        photos: [
          "images/18konser/1.png",
          "images/18konser/2.png",
          "images/18konser/3.png"
        ],
        quiz: {
          question: "CanlÄ± mÃ¼zik dinlemeye gittiÄŸimiz etkinliÄŸe ne denir? (cevap: konser)",
          answers: ["konser"]
        }
      },

      "2025-12-18": {
        title: "GÃ¼n 19 â€“ Kalp Krizi",
        text: "",
        photos: [
          "images/19kalpkrizi/1.png"
        ],
        quiz: {
          question: "AÅŸÄ±rÄ± aÅŸk + aÅŸÄ±rÄ± heyecan = ? (cevap: kalp krizi ÅŸakasÄ±)",
          answers: ["kalp krizi", "kalpkrizi"]
        }
      },

      "2025-12-19": {
        title: "GÃ¼n 20 â€“ SapÄ±klÄ±k",
        text: "",
        photos: [
          "images/20sapÄ±kluk/1.png",
          "images/20sapÄ±kluk/2.png"
        ],
        quiz: {
          question: "Birbirimize ÅŸaka yollu ne diyoruz: 'kÃ¼Ã§Ã¼k ....' (cevap: sapÄ±k)",
          answers: ["sapÄ±k", "sapik", "sapÄ±klÄ±k", "sapiklik"]
        }
      },

      "2025-12-20": {
        title: "GÃ¼n 21 â€“ Elinden Gelenin En FazlasÄ±",
        text: "",
        photos: [
          "images/21elindengeleninfazlasÄ±/1.png"
        ],
        quiz: {
          question: "Bir ÅŸey iÃ§in 'elimden gelenin .... yaptÄ±m' deriz. BoÅŸluk? (cevap: en iyisini / en fazlasÄ±nÄ±)",
          answers: ["en iyisini", "en iyisi", "en fazlasÄ±nÄ±", "en fazlasini"]
        }
      },

      "2025-12-21": {
        title: "GÃ¼n 22 â€“ Her Anlamda YumuÅŸak",
        text: "",
        photos: [
          "images/22heranlamdauyuÅŸmak/1.png"
        ],
        quiz: {
          question: "Hem kalbi, hem sarÄ±lmasÄ± yumuÅŸak olana ne deriz? (cevap: yumuÅŸak)",
          answers: ["yumuÅŸak", "yumusak"]
        }
      },

      "2025-12-22": {
        title: "GÃ¼n 23 â€“ EÅŸeklik",
        text: "",
        photos: [
          "images/23eÅŸeklik/1.png"
        ],
        quiz: {
          question: "Birbirimize bazen sevgiyle ne deriz: 'yine ne .... yaptÄ±n?' (cevap: eÅŸeklik)",
          answers: ["eÅŸeklik", "eseklik"]
        }
      },

      "2025-12-23": {
        title: "GÃ¼n 24 â€“ Sevmek",
        text: "",
        photos: [
          "images/24sevmek/1.png",
          "images/24sevmek/2.png"
        ],
        quiz: {
          question: "Bu takvimin ana fiili ne? (cevap: sevmek)",
          answers: ["sevmek", "seviyorum", "sevgi"]
        }
      },

      "2025-12-24": {
        title: "GÃ¼n 25 â€“ Rahat Olmak",
        text: "",
        photos: [
          "images/25rahatolmak/1.png"
        ],
        quiz: {
          question: "Stres olmayÄ±nca insan nasÄ±l hisseder? (cevap: rahat)",
          answers: ["rahat", "rahat olmak"]
        }
      },

      "2025-12-25": {
        title: "GÃ¼n 26 â€“ MutluluÄŸu Ä°Ã§in Her Åeyi Yapmak",
        text: "",
        photos: [
          "images/26mutluluÄŸuiÃ§inherÅŸeyiyapmak/1.png",
          "images/26mutluluÄŸuiÃ§inherÅŸeyiyapmak/2.png",
          "images/26mutluluÄŸuiÃ§inherÅŸeyiyapmak/3.png"
        ],
        quiz: {
          question: "Buradaki kilit kelime: 'senin .... iÃ§in her ÅŸeyi yaparÄ±m'. (cevap: mutluluÄŸun)",
          answers: ["mutluluÄŸun", "mutlulugun"]
        }
      },

      "2025-12-26": {
        title: "GÃ¼n 27 â€“ Minik Beyza",
        text: "",
        photos: [
          "images/27minikbeyza/1.png",
          "images/27minikbeyza/2.png",
          "images/27minikbeyza/3.png",
          "images/27minikbeyza/4.png",
          "images/27minikbeyza/5.png"
        ],
        quiz: {
          question: "BugÃ¼nÃ¼n asÄ±l yÄ±ldÄ±zÄ± kim? (cevap: minik beyza)",
          answers: ["minik beyza", "beyza", "minikbeyza"]
        }
      },

      "2025-12-27": {
        title: "GÃ¼n 28 â€“ Ä°yi Ki",
        text: "",
        photos: [
          "images/28iyiki/1.png"
        ],
        quiz: {
          question: "Bu cÃ¼mleyi tamamla: '.... ki hayatÄ±mdasÄ±n'. (cevap: iyi)",
          answers: ["iyi", "iyiki", "iyi ki"]
        }
      },

      "2025-12-28": {
        title: "GÃ¼n 29 â€“ O Yokken Bile Sevmek",
        text: "",
        photos: [
          "images/29oyokkenbilesevmek/1.png"
        ],
        quiz: {
          question: "Yan yana olmasak bile iÃ§ten iÃ§e ne yapÄ±yorum? (cevap: sevmek)",
          answers: ["sevmek", "seni seviyorum", "seviyorum"]
        }
      },

      "2025-12-29": {
        title: "GÃ¼n 30 â€“ KÄ±pÄ±r KÄ±pÄ±r Olmak",
        text: "",
        photos: [
          "images/30kÄ±pÄ±rkÄ±pÄ±rolmak/1-full.png"
        ],
        quiz: {
          question: "HeyecanlÄ±, iÃ§i iÃ§e sÄ±ÄŸmayan his nasÄ±l tarif edilir? (cevap: kÄ±pÄ±r kÄ±pÄ±r)",
          answers: ["kÄ±pÄ±r kÄ±pÄ±r", "kipir kipir", "kÄ±pÄ±rkÄ±pÄ±r"]
        }
      },

      "2025-12-30": {
        title: "GÃ¼n 31 â€“ GÃ¼zellik",
        text: "",
        photos: [
          "images/31gÃ¼zellik/1.png",
          "images/31gÃ¼zellik/2.png"
        ],
        quiz: {
          question: "Bu sayfada en Ã§ok ne var? (cevap: gÃ¼zellik)",
          answers: ["gÃ¼zellik", "guzellik"]
        }
      },

      "2025-12-31": {
        title: "GÃ¼n 32 â€“ YarÄ±nÄ±yla",
        text: "",
        photos: [
          "images/32yarÄ±myÄ±l/1.png",
          "images/32yarÄ±myÄ±l/2.png",
          "images/32yarÄ±myÄ±l/3.png"
        ],
        quiz: {
          question: "Bu seneyi kiminle kapatmak istiyorum? (cevap: seninle)",
          answers: ["seninle", "seni", "sen"]
        }
      },

      "2026-01-01": {
        title: "GÃ¼n 33 â€“ Yeni YÄ±l",
        text: "",
        photos: [
          "images/33yeniyÄ±l/1.png",
          "images/33yeniyÄ±l/2.png",
          "images/33yeniyÄ±l/3.png",
          "images/33yeniyÄ±l/4.png",
          "images/33yeniyÄ±l/5.png"
        ],
        quiz: {
          question: "Yeni yÄ±l kaÃ§? (cevap: 2026)",
          answers: ["2026"]
        }
      }
    };
  </script>

  <!-- ANA Ã‡ALIÅTIRICI -->
  <script>
    (function init() {
      const today = new Date(2025, 10, 30); // Ã–NÄ°ZLEME Ä°Ã‡Ä°N SABÄ°T TARÄ°H

      const todayDateOnly = new Date(
        today.getFullYear(),
        today.getMonth(),
        today.getDate()
      );

      const seasonStart = new Date(SEASON_YEAR, 10, 30); // 30 KasÄ±m
      const seasonEnd = new Date(SEASON_YEAR + 1, 0, 1); // 1 Ocak

      const statusEl = document.getElementById("status");
      const noteSection = document.getElementById("note-section");
      const noteTitleEl = document.getElementById("note-title");
      const noteTextEl = document.getElementById("note-text");
      const photosEl = document.getElementById("photos");
      const dayPillEl = document.getElementById("day-pill");
      const rangeTextEl = document.getElementById("range-text");
      const quizArea = document.getElementById("quiz-area");
      const quizQuestionEl = document.getElementById("quiz-question");
      const quizAnswerInput = document.getElementById("quiz-answer");
      const quizSubmitBtn = document.getElementById("quiz-submit");
      const quizFeedbackEl = document.getElementById("quiz-feedback");
      const cardEl = document.querySelector(".card");
      const dayCounterEl = document.getElementById("day-counter");

      const oneDayMs = 1000 * 60 * 60 * 24;

      if (statusEl) {
        statusEl.classList.add("hidden");
        statusEl.textContent = "";
      }

      rangeTextEl.textContent = `30 KasÄ±m ${SEASON_YEAR} â€“ 1 Ocak ${SEASON_YEAR + 1}`;

      if (dayPillEl) {
        dayPillEl.children[0].textContent = "BugÃ¼n";
        dayPillEl.children[1].textContent = today.toLocaleDateString("tr-TR", {
          day: "2-digit",
          month: "2-digit"
        });
      }

      const idx =
        Math.floor((todayDateOnly - seasonStart) / oneDayMs) + 1;

      renderCalendar(todayDateOnly, idx);

      if (dayCounterEl) {
        const startDateOnly = new Date(
          RELATION_START.getFullYear(),
          RELATION_START.getMonth(),
          RELATION_START.getDate()
        );
        const diffMs = todayDateOnly - startDateOnly;
        const diffDays = Math.floor(diffMs / oneDayMs) + 1;

        if (diffDays > 0) {
          dayCounterEl.textContent = `BugÃ¼n bizim ${diffDays}. gÃ¼nÃ¼mÃ¼z ğŸ’«`;
        }
      }

      if (todayDateOnly < seasonStart) {
        if (statusEl) {
          statusEl.classList.remove("hidden");
          statusEl.textContent =
            "Takvimimiz henÃ¼z baÅŸlamadÄ±. Ä°lk not 30 KasÄ±m'da aÃ§Ä±lacak. ğŸ’Œ";
        }
        return;
      }

      if (todayDateOnly > seasonEnd) {
        if (statusEl) {
          statusEl.classList.remove("hidden");
          statusEl.textContent =
            "Bu kÃ¼Ã§Ã¼k takvim gÃ¶revini tamamladÄ±. UmarÄ±m her sayfasÄ± seni gÃ¼lÃ¼msetmiÅŸtir. âœ¨";
        }
        return;
      }

      const year = today.getFullYear();
      const month = String(today.getMonth() + 1).padStart(2, "0");
      const day = String(today.getDate()).padStart(2, "0");
      const key = `${year}-${month}-${day}`;
      const entry = entries[key];

      if (!entry) {
        if (statusEl) {
          statusEl.classList.remove("hidden");
          statusEl.textContent =
            "BugÃ¼n iÃ§in not henÃ¼z eklenmemiÅŸ gibi gÃ¶rÃ¼nÃ¼yor. (Bu kÄ±smÄ± sen hazÄ±rlarken gÃ¶rÃ¼yorsun ğŸ’»)";
        }
        return;
      }

      noteSection.hidden = true;

      function renderEntryContent() {
        noteSection.hidden = false;
        const safeIdx = idx > 0 ? idx : 1;
        noteTitleEl.textContent = entry.title || `GÃ¼n ${safeIdx}`;
        noteTextEl.textContent = entry.text || "";

        photosEl.innerHTML = "";
        if (Array.isArray(entry.photos) && entry.photos.length > 0) {
          entry.photos.forEach((src) => {
            const wrapper = document.createElement("div");
            wrapper.className = "photo";

            if (typeof src === "string" && src.includes("-full")) {
              wrapper.classList.add("photo--full");
            }

            const img = document.createElement("img");
            img.src = src;
            img.alt = "BugÃ¼ne ait bir fotoÄŸraf";
            wrapper.appendChild(img);
            photosEl.appendChild(wrapper);
          });
        }
      }

      function triggerAnniversaryEffects() {
        if (!entry.isAnniversary) return;

        if (cardEl) {
          cardEl.classList.add("anniversary");
        }

        const sound = document.getElementById("confetti-sound");
        if (sound) {
          sound.currentTime = 0;
          sound.play().catch(() => {});
        }

        if (window.confetti) {
          const duration = 3000;
          const end = Date.now() + duration;

          (function frame() {
            confetti({
              particleCount: 5,
              spread: 80,
              origin: { x: Math.random(), y: 0.3 }
            });
            if (Date.now() < end) requestAnimationFrame(frame);
          })();
        }
      }

      if (
        entry.quiz &&
        entry.quiz.question &&
        quizArea &&
        quizQuestionEl &&
        quizSubmitBtn &&
        quizAnswerInput &&
        quizFeedbackEl
      ) {
        quizArea.hidden = false;
        quizQuestionEl.textContent = entry.quiz.question;
        quizAnswerInput.value = "";
        quizFeedbackEl.textContent = "";

        const acceptedAnswers = (entry.quiz.answers || []).map((a) =>
          String(a).toLowerCase().trim()
        );

        quizSubmitBtn.onclick = function () {
          const user = quizAnswerInput.value.toLowerCase().trim();
          if (!user) {
            quizFeedbackEl.textContent = "AzÄ±cÄ±k dÃ¼ÅŸÃ¼n, bir ÅŸeyler yaz. ğŸ’­";
            return;
          }

          if (acceptedAnswers.includes(user)) {
            quizFeedbackEl.textContent =
              "TAM Ä°SABET! BugÃ¼nÃ¼n sayfasÄ± senin. ğŸ’–";
            renderEntryContent();
            triggerAnniversaryEffects();
          } else {
            quizFeedbackEl.textContent =
              "Bence bir daha dÃ¼ÅŸÃ¼n. KÃ¼Ã§Ã¼k bir ipucu: anÄ±lar. ğŸ˜‰";
          }
        };

        quizAnswerInput.addEventListener("keydown", function (e) {
          if (e.key === "Enter") {
            e.preventDefault();
            quizSubmitBtn.click();
          }
        });
      } else {
        renderEntryContent();
      }
    })();

    function renderCalendar(todayDateOnly, idx) {
      const root = document.getElementById("calendar-root");
      if (!root) return;

      const monthNames = [
        "Ocak", "Åubat", "Mart", "Nisan", "MayÄ±s", "Haziran",
        "Temmuz", "AÄŸustos", "EylÃ¼l", "Ekim", "KasÄ±m", "AralÄ±k"
      ];

      const year = todayDateOnly.getFullYear();
      const month = todayDateOnly.getMonth();

      const first = new Date(year, month, 1);
      const last = new Date(year, month + 1, 0);

      const firstWeekday = (first.getDay() + 6) % 7;
      const totalDays = last.getDate();

      const seasonStart = new Date(SEASON_YEAR, 10, 30);

      let dayLabel = "";
      if (todayDateOnly < seasonStart) {
        dayLabel = "Takvim henÃ¼z baÅŸlamadÄ± ğŸ’Œ";
      } else if (idx > 0) {
        dayLabel = `${idx}. gÃ¼nÃ¼mÃ¼z ğŸ¥¬`;
      }

      let html = `
        <div class="calendar-box">
          <div class="calendar-header">
            <span class="calendar-month">${monthNames[month]} ${year}</span>
            <span class="calendar-counter">${dayLabel}</span>
          </div>
          <div class="calendar-grid">
            <div class="calendar-weekday">Pzt</div>
            <div class="calendar-weekday">Sal</div>
            <div class="calendar-weekday">Ã‡ar</div>
            <div class="calendar-weekday">Per</div>
            <div class="calendar-weekday">Cum</div>
            <div class="calendar-weekday">Cmt</div>
            <div class="calendar-weekday">Paz</div>
      `;

      for (let i = 0; i < firstWeekday; i++) {
        html += `<div class="calendar-day empty"></div>`;
      }

      const todayDay = todayDateOnly.getDate();

      for (let d = 1; d <= totalDays; d++) {
        const isToday = d === todayDay;
        const cls = "calendar-day" + (isToday ? " today" : "");
        html += `<div class="${cls}">${d}</div>`;
      }

      html += `</div></div>`;
      root.innerHTML = html;
    }
  </script>

  <!-- iOS autoscroll -->
  <script>
    (function autoScrollIOS() {
      var ua = window.navigator.userAgent || "";
      var isIOS = /iP(hone|od|ad)/.test(ua);
      var isSafari = /^((?!chrome|android).)*safari/i.test(ua);

      if (!isIOS || !isSafari) {
        return;
      }

      window.addEventListener("load", function () {
        setTimeout(function () {
          window.scrollTo(0, 1);
        }, 200);
      });
    })();
  </script>

  <!-- Ã–NÄ°ZLEME MODU -->
  <script>
    (function setupPreview() {
      const hasPreviewHash = window.location.hash === "#preview";
      if (!hasPreviewHash) return;

      const statusEl = document.getElementById("status");
      const noteSection = document.getElementById("note-section");
      const noteTitleEl = document.getElementById("note-title");
      const noteTextEl = document.getElementById("note-text");
      const photosEl = document.getElementById("photos");
      const dayPillEl = document.getElementById("day-pill");
      const quizArea = document.getElementById("quiz-area");

      if (
        !statusEl ||
        !noteSection ||
        !noteTitleEl ||
        !noteTextEl ||
        !photosEl ||
        !dayPillEl
      ) {
        return;
      }

      if (quizArea) quizArea.hidden = true;

      dayPillEl.children[0].textContent = "Ã–nizleme";
      dayPillEl.children[1].textContent = "TÃ¼m gÃ¼nler";

      statusEl.classList.remove("hidden");
      statusEl.textContent =
        "Ã–nizleme modu: AÅŸaÄŸÄ±dan bir tarih seÃ§ip o gÃ¼ne yazdÄ±ÄŸÄ±n notu gÃ¶rebilirsin.";

      const previewBar = document.createElement("div");
      previewBar.style.marginTop = "10px";
      previewBar.style.display = "flex";
      previewBar.style.gap = "8px";
      previewBar.style.alignItems = "center";
      previewBar.style.fontSize = "0.85rem";

      const label = document.createElement("label");
      label.textContent = "GÃ¼n seÃ§:";

      const select = document.createElement("select");
      select.style.flex = "1";

      if (typeof entries !== "undefined") {
        const keys = Object.keys(entries || {}).sort();

        keys.forEach((key) => {
          const option = document.createElement("option");
          option.value = key;

          const d = new Date(key);
          if (!isNaN(d)) {
            option.textContent = d.toLocaleDateString("tr-TR", {
              day: "2-digit",
              month: "2-digit"
            });
          } else {
            option.textContent = key;
          }

          select.appendChild(option);
        });

        previewBar.appendChild(label);
        previewBar.appendChild(select);
        statusEl.appendChild(previewBar);

        function renderEntry(dateKey) {
          const entry = entries[dateKey];
          if (!entry) return;

          noteSection.hidden = false;
          noteTitleEl.textContent = entry.title || "";
          noteTextEl.textContent = entry.text || "";

          photosEl.innerHTML = "";
          if (Array.isArray(entry.photos) && entry.photos.length > 0) {
            entry.photos.forEach((src) => {
              const wrapper = document.createElement("div");
              wrapper.className = "photo";

              if (typeof src === "string" && src.includes("-full")) {
                wrapper.classList.add("photo--full");
              }

              const img = document.createElement("img");
              img.src = src;
              img.alt = "BugÃ¼ne ait bir fotoÄŸraf";
              wrapper.appendChild(img);
              photosEl.appendChild(wrapper);
            });
          }
        }

        if (keys.length > 0) {
          renderEntry(keys[0]);
        }

        select.addEventListener("change", function () {
          renderEntry(this.value);
        });
      }
    })();
  </script>

  <!-- MÃœZÄ°K -->
  <script>
    (function setupMusic() {
      const audio = document.getElementById("bg-music");
      const toggle = document.getElementById("music-toggle");
      const volume = document.getElementById("music-volume");

      if (!audio || !toggle || !volume) return;

      audio.volume = 0.2;

      toggle.addEventListener("click", () => {
        if (audio.paused) {
          audio.play().catch(() => {});
          toggle.textContent = "â¸";
        } else {
          audio.pause();
          toggle.textContent = "â–¶";
        }
      });

      volume.addEventListener("input", () => {
        audio.volume = Number(volume.value);
      });
    })();
  </script>
</body>
</html>
